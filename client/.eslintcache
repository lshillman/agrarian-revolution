[{"/Users/luke/Desktop/agrarian-revolution/client/src/index.js":"1","/Users/luke/Desktop/agrarian-revolution/client/src/App.js":"2","/Users/luke/Desktop/agrarian-revolution/client/src/pages/Conversation.js":"3","/Users/luke/Desktop/agrarian-revolution/client/src/components/SignupForm.js":"4","/Users/luke/Desktop/agrarian-revolution/client/src/pages/MyVeggies.js":"5","/Users/luke/Desktop/agrarian-revolution/client/src/pages/Profile.js":"6","/Users/luke/Desktop/agrarian-revolution/client/src/components/Footer.js":"7","/Users/luke/Desktop/agrarian-revolution/client/src/pages/Requests.js":"8","/Users/luke/Desktop/agrarian-revolution/client/src/components/Header.js":"9","/Users/luke/Desktop/agrarian-revolution/client/src/components/LoginForm.js":"10","/Users/luke/Desktop/agrarian-revolution/client/src/pages/Search.js":"11","/Users/luke/Desktop/agrarian-revolution/client/src/components/VeggiePopup.js":"12","/Users/luke/Desktop/agrarian-revolution/client/src/components/VeggiesList.js":"13","/Users/luke/Desktop/agrarian-revolution/client/src/utils/auth.js":"14","/Users/luke/Desktop/agrarian-revolution/client/src/utils/queries.js":"15","/Users/luke/Desktop/agrarian-revolution/client/src/utils/icons.js":"16","/Users/luke/Desktop/agrarian-revolution/client/src/utils/mutations.js":"17","/Users/luke/Desktop/agrarian-revolution/client/src/components/AddVeggieForm.js":"18"},{"size":219,"mtime":1661713852077,"results":"19","hashOfConfig":"20"},{"size":2121,"mtime":1662162282705,"results":"21","hashOfConfig":"20"},{"size":103,"mtime":1662069781569,"results":"22","hashOfConfig":"20"},{"size":5550,"mtime":1662162240336,"results":"23","hashOfConfig":"20"},{"size":100,"mtime":1662069781570,"results":"24","hashOfConfig":"20"},{"size":93,"mtime":1662069781570,"results":"25","hashOfConfig":"20"},{"size":105,"mtime":1662151532726,"results":"26","hashOfConfig":"20"},{"size":95,"mtime":1662069781571,"results":"27","hashOfConfig":"20"},{"size":892,"mtime":1662151532727,"results":"28","hashOfConfig":"20"},{"size":3214,"mtime":1662161837944,"results":"29","hashOfConfig":"20"},{"size":2549,"mtime":1662162181317,"results":"30","hashOfConfig":"20"},{"size":701,"mtime":1662069781568,"results":"31","hashOfConfig":"20"},{"size":645,"mtime":1662157955191,"results":"32","hashOfConfig":"20"},{"size":920,"mtime":1662162151055,"results":"33","hashOfConfig":"20"},{"size":402,"mtime":1662069781640,"results":"34","hashOfConfig":"20"},{"size":6245,"mtime":1662069781573,"results":"35","hashOfConfig":"20"},{"size":1111,"mtime":1662158842214,"results":"36","hashOfConfig":"20"},{"size":5621,"mtime":1662163501254,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"kejqwq",{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"40"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"40"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"40"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/luke/Desktop/agrarian-revolution/client/src/index.js",[],["79","80"],"/Users/luke/Desktop/agrarian-revolution/client/src/App.js",["81"],"import React, {useState} from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport Search from './pages/Search';\nimport MyVeggies from './pages/MyVeggies';\nimport Requests from './pages/Requests';\nimport Conversation from './pages/Conversation';\nimport Profile from './pages/Profile';\nimport SignupForm from './components/SignupForm';\nimport LoginForm from './components/LoginForm';\nimport { ApolloClient, ApolloProvider, InMemoryCache, createHttpLink } from \"@apollo/client\"\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport { setContext } from '@apollo/client/link/context';\n\n\n\nconst httpLink = createHttpLink({\n  uri: '/graphql',\n});\n\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const token = localStorage.getItem('id_token');\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\n\nfunction App() {\n\n  return (\n    <ApolloProvider client={client}>\n        <Router>\n          <Header />\n\n          <Routes>\n            <Route\n              path=\"/\"\n              element={<Search/>}\n            />\n            <Route\n              path=\"/veggies\"\n              element={<MyVeggies/>}\n            />\n            <Route\n              path=\"/requests\"\n              element={<Requests/>}\n            />\n            <Route\n              path=\"/requests/:requestId\"\n              element={<Conversation/>}\n            />\n            <Route\n              path=\"/profile/:username\"\n              element={<Profile/>}\n            />\n\n            <Route\n              path=\"/signup\"\n              element={<SignupForm/>}\n            />\n            <Route\n              path=\"/login\"\n              element={<LoginForm />}\n            />\n          </Routes>\n\n          <Footer />\n        </Router>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n","/Users/luke/Desktop/agrarian-revolution/client/src/pages/Conversation.js",[],"/Users/luke/Desktop/agrarian-revolution/client/src/components/SignupForm.js",["82"],"import React, { useEffect, useState } from 'react';\n// import { Form, Button, Alert } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { CREATE_USER } from \"../utils/mutations\"\nimport { useMutation } from \"@apollo/client\"\nimport Auth from '../utils/auth';\n\n\n\nconst SignupForm = () => {\n    const [formState, setFormState] = useState({\n        username: '',\n        email: '',\n        password: '',\n        street: '',\n        crossStreet: '',\n        zipcode: ''\n    });\n    const [createUser, { error, data }] = useMutation(CREATE_USER);\n\n    // update state based on form input changes\n    const handleChange = (event) => {\n        const { name, value } = event.target;\n\n        setFormState({\n            ...formState,\n            [name]: value\n        });\n    };\n\n    // submit form\n    const handleFormSubmit = async (event) => {\n        event.preventDefault();\n\n        try {\n            const location = `${formState.street} and ${formState.crossStreet} ${formState.zipcode}`\n\n            const { data } = await createUser({\n                variables: { ...formState, location },\n            });\n            console.log(data.createUser.user);\n\n            localStorage.setItem(\"_id\", data.createUser.user._id);\n            localStorage.setItem(\"username\", data.createUser.user.username);\n            localStorage.setItem(\"email\", data.createUser.user.email);\n            localStorage.setItem(\"location\", data.createUser.user.location);\n            localStorage.setItem(\"coordinates\", JSON.stringify(data.createUser.user.coordinates));\n\n            Auth.login(data.createUser.token);\n        } catch (e) {\n            console.error(e);\n        }\n    };\n\n    return (\n\n        <main className=\"flex-row justify-center mb-4\">\n            <div className=\"col-12 col-lg-10\">\n                <div className=\"card\">\n                    <h4 className=\"card-header bg-dark text-light p-2\">Sign Up</h4>\n                    <div className=\"card-body\">\n                        {data ? (\n                            <p>\n                                Success! You may now head{' '}\n                                <Link to=\"/\">back to the homepage.</Link>\n                            </p>\n                        ) : (\n                            <form onSubmit={handleFormSubmit}>\n                                <input\n                                    className=\"form-input\"\n                                    placeholder=\"Your username\"\n                                    name=\"username\"\n                                    type=\"text\"\n                                    value={formState.username}\n                                    onChange={handleChange}\n                                />\n                                <input\n                                    className=\"form-input\"\n                                    placeholder=\"Your email\"\n                                    name=\"email\"\n                                    type=\"email\"\n                                    value={formState.email}\n                                    onChange={handleChange}\n                                />\n                                <input\n                                    className=\"form-input\"\n                                    placeholder=\"******\"\n                                    name=\"password\"\n                                    type=\"password\"\n                                    value={formState.password}\n                                    onChange={handleChange}\n                                />\n                                <input\n                                    className=\"form-input\"\n                                    placeholder=\"street\"\n                                    name=\"street\"\n                                    type=\"text\"\n                                    value={formState.street}\n                                    onChange={handleChange}\n                                />\n                                <input\n                                    className=\"form-input\"\n                                    placeholder=\"cross street\"\n                                    name=\"crossStreet\"\n                                    type=\"text\"\n                                    value={formState.crossStreet}\n                                    onChange={handleChange}\n                                />\n                                <input\n                                    className=\"form-input\"\n                                    placeholder=\"zip code\"\n                                    name=\"zipcode\"\n                                    type=\"text\"\n                                    value={formState.zipcode}\n                                    onChange={handleChange}\n                                />\n\n                                <button\n                                    className=\"btn btn-block btn-info\"\n                                    style={{ cursor: 'pointer' }}\n                                    type=\"submit\"\n                                >\n                                    Submit\n                                </button>\n                            </form>\n                        )}\n\n                        {error && (\n                            <div className=\"my-3 p-3 bg-danger text-white\">\n                                {error.message}\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </main>\n\n    )\n}\n\nexport default SignupForm;","/Users/luke/Desktop/agrarian-revolution/client/src/pages/MyVeggies.js",[],"/Users/luke/Desktop/agrarian-revolution/client/src/pages/Profile.js",[],"/Users/luke/Desktop/agrarian-revolution/client/src/components/Footer.js",[],"/Users/luke/Desktop/agrarian-revolution/client/src/pages/Requests.js",[],"/Users/luke/Desktop/agrarian-revolution/client/src/components/Header.js",[],"/Users/luke/Desktop/agrarian-revolution/client/src/components/LoginForm.js",["83"],"import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { LOGIN_USER } from '../utils/mutations';\n\n\nimport Auth from '../utils/auth';\n\nconst LoginForm = ({setUserInfo, userInfo}) => {\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [login, { error, data }] = useMutation(LOGIN_USER);\n\n\n  // update state based on form input changes\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  // submit form\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    console.log(formState);\n    \n    try {\n      const { data } = await login({\n        variables: { ...formState },\n      });\n\n      // TODO: set all the user info\n      // setUserInfo({\n      //   _id: data.login.user._id,\n      //   username: data.login.user.username,\n      //   email: data.login.user.email,\n      //   location: data.login.user.location,\n      //   coordinates: data.login.user.coordinates\n      // })\n      localStorage.setItem(\"_id\", data.login.user._id);\n      localStorage.setItem(\"username\", data.login.user.username);\n      localStorage.setItem(\"email\", data.login.user.email);\n      localStorage.setItem(\"location\", data.login.user.location);\n      localStorage.setItem(\"coordinates\", JSON.stringify(data.login.user.coordinates));\n      \n      // console.log(userInfo);\n      Auth.login(data.login.token);\n    } catch (e) {\n      console.error(e);\n    }\n\n    // clear form values\n    setFormState({\n      email: '',\n      password: '',\n    });\n  };\n\n  return (\n    <main className=\"flex-row justify-center mb-4\">\n      <div className=\"col-12 col-lg-10\">\n        <div className=\"card\">\n          <h4 className=\"card-header bg-dark text-light p-2\">Login</h4>\n          <div className=\"card-body\">\n            {data ? (\n              <p>\n                Success! You may now head{' '}\n                <Link to=\"/\">back to the homepage.</Link>\n              </p>\n            ) : (\n              <form onSubmit={handleFormSubmit}>\n                <input\n                  className=\"form-input\"\n                  placeholder=\"Your email\"\n                  name=\"email\"\n                  type=\"email\"\n                  value={formState.email}\n                  onChange={handleChange}\n                />\n                <input\n                  className=\"form-input\"\n                  placeholder=\"******\"\n                  name=\"password\"\n                  type=\"password\"\n                  value={formState.password}\n                  onChange={handleChange}\n                />\n                <button\n                  className=\"btn btn-block btn-info\"\n                  style={{ cursor: 'pointer' }}\n                  type=\"submit\"\n                >\n                  Submit\n                </button>\n              </form>\n            )}\n\n            {error && (\n              <div className=\"my-3 p-3 bg-danger text-white\">\n                {error.message}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default LoginForm;","/Users/luke/Desktop/agrarian-revolution/client/src/pages/Search.js",["84","85","86"],"import React, { useRef, useState } from 'react';\nimport { useQuery } from '@apollo/client';\n// import { Link } from 'react-router-dom';\nimport VeggiesList from '../components/VeggiesList';\nimport VeggiePopup from '../components/VeggiePopup';\nimport AddVeggieForm from '../components/AddVeggieForm';\nimport { QUERY_VEGGIES } from '../utils/queries';\n\n\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet';\nimport icons from '../utils/icons';\n\nconst Search = () => {\n  const { loading, data } = useQuery(QUERY_VEGGIES);\n  const veggies = data?.veggies || [];\n\n  const selectedVeggie = useRef(null);\n  const [veggieClicked, setVeggieClicked] = useState(false);\n\n  const mapRef = useRef(null);\n  const markerRef = useRef(new Array());\n\n  const onClickShowMarker = (veggieIndex) => {\n    const map = mapRef.current\n    if (!map) {\n      return\n    }\n\n    // map.flyTo(veggie.coordinates, 13)\n    const marker = markerRef.current[veggieIndex]\n    if (marker) {\n      marker.openPopup()\n    }\n  }\n\n  return (\n    <main style={{ maxWidth: \"1200px\", display: \"flex\" }}>\n      {loading ? (\n        <div>Loading...</div>\n      ) : (\n        <>\n          <div style={{ flexBasis: \"20%\" }}>\n            <VeggiesList veggies={veggies} veggieClicked={veggieClicked} selectedVeggie={selectedVeggie} onClickShowMarker={onClickShowMarker} />\n          </div>\n\n          <div style={{ flexBasis: \"80%\" }}>\n            <MapContainer center={JSON.parse(localStorage.getItem(\"coordinates\"))} zoom={13} style={{ height: \"500px\" }} whenCreated={(map) => mapRef.current = map}>\n              {/* <LocationMarker /> */}\n              <TileLayer\n                attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n              />\n\n              {veggies.map((veggie, key) => (\n\n                  <Marker key={key} ref={(element) => markerRef.current.push(element)} position={veggie.coordinates} icon={icons[veggie.type]} data={veggie._id} eventHandlers={{\n                    click: (e) => {\n                      selectedVeggie.current = e.target.options.data;\n                      setVeggieClicked(true);\n                    },\n                  }}>\n                    <VeggiePopup veggie={veggie} />\n                  </Marker>\n\n              ))}\n            </MapContainer>\n          </div>\n          \n          <AddVeggieForm />\n          \n        </>\n        \n      )}\n    </main>\n  );\n};\n\nexport default Search;","/Users/luke/Desktop/agrarian-revolution/client/src/components/VeggiePopup.js",[],"/Users/luke/Desktop/agrarian-revolution/client/src/components/VeggiesList.js",[],"/Users/luke/Desktop/agrarian-revolution/client/src/utils/auth.js",[],"/Users/luke/Desktop/agrarian-revolution/client/src/utils/queries.js",[],"/Users/luke/Desktop/agrarian-revolution/client/src/utils/icons.js",[],"/Users/luke/Desktop/agrarian-revolution/client/src/utils/mutations.js",[],"/Users/luke/Desktop/agrarian-revolution/client/src/components/AddVeggieForm.js",["87","88"],{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","severity":1,"message":"94","line":1,"column":16,"nodeType":"95","messageId":"96","endLine":1,"endColumn":24},{"ruleId":"93","severity":1,"message":"97","line":1,"column":17,"nodeType":"95","messageId":"96","endLine":1,"endColumn":26},{"ruleId":"93","severity":1,"message":"97","line":1,"column":27,"nodeType":"95","messageId":"96","endLine":1,"endColumn":36},{"ruleId":"93","severity":1,"message":"98","line":10,"column":43,"nodeType":"95","messageId":"96","endLine":10,"endColumn":48},{"ruleId":"93","severity":1,"message":"99","line":10,"column":50,"nodeType":"95","messageId":"96","endLine":10,"endColumn":62},{"ruleId":"100","severity":1,"message":"101","line":21,"column":28,"nodeType":"102","messageId":"103","endLine":21,"endColumn":39},{"ruleId":"93","severity":1,"message":"104","line":4,"column":10,"nodeType":"95","messageId":"96","endLine":4,"endColumn":23},{"ruleId":"93","severity":1,"message":"105","line":16,"column":35,"nodeType":"95","messageId":"96","endLine":16,"endColumn":39},"no-native-reassign",["106"],"no-negated-in-lhs",["107"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'Popup' is defined but never used.","'useMapEvents' is defined but never used.","no-array-constructor","The array literal notation [] is preferable.","NewExpression","preferLiteral","'QUERY_VEGGIES' is defined but never used.","'data' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]